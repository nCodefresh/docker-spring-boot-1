version: '1.0'
steps:
  build_step:
    type: build
    title: Building Docker Image
    image_name: ncodefresh/docker-spring-boot
    working_directory: ${{main_clone}}
    dockerfile: Dockerfile
    tag: master

  push_step:
    type: push
    candidate: ${{build_step}}
    registry: staging.cfcr.io
    credentials:
      username: ${{user}}
      password: ${{pass}}
    tag: master

  launch_step:
    title: Step Title
    type: launch-composition
    composition: ./docker-compose.yml
    environment_name: 'test'